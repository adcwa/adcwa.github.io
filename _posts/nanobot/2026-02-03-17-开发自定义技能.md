# ç¬¬ä¸ƒå±‚ï¼šå¼€å‘è‡ªå®šä¹‰æŠ€èƒ½

> ğŸ“Œ **å‚è€ƒ**ï¼š[10-æŠ€èƒ½ç³»ç»Ÿ.md](./nanobot/2026-02-03/10-æŠ€èƒ½ç³»ç»Ÿ.md)

## å¿«é€Ÿå¼€å§‹

### 1. åˆ›å»ºæŠ€èƒ½ç›®å½•

```bash
mkdir -p ~/.nanobot/skills/docker
cd ~/.nanobot/skills/docker
```

### 2. ç¼–å†™ SKILL.md

```markdown
---
name: docker
description: Docker container management
available: true
metadata: |
  {
    "nanobot": {
      "requires": {
        "bins": ["docker"]
      }
    }
  }
---

# Docker Skill

Manage Docker containers using Docker CLI.

## Prerequisites

- Docker installed and running
- User has Docker permissions

## Commands

### List containers

\```bash
docker ps
docker ps -a  # Include stopped containers
\```

### Start/Stop containers

\```bash
docker start <container_name>
docker stop <container_name>
docker restart <container_name>
\```

### View logs

\```bash
docker logs <container_name>
docker logs -f <container_name>  # Follow logs
\```

### Execute command in container

\```bash
docker exec -it <container_name> bash
docker exec <container_name> <command>
\```

## Examples

**User**: "List all running Docker containers"
**Action**: Run `docker ps`

**User**: "Stop the nginx container"
**Action**: Run `docker stop nginx`

**User**: "Show logs of the redis container"
**Action**: Run `docker logs redis`

## Troubleshooting

**Error: "Cannot connect to Docker daemon"**
- Ensure Docker is running: `docker info`
- Check permissions: `sudo usermod -aG docker $USER`

**Container not found**
- List all containers including stopped ones: `docker ps -a`
\```

### 3. æµ‹è¯•æŠ€èƒ½

```bash
nanobot agent -m "ä½¿ç”¨ Docker æŠ€èƒ½åˆ—å‡ºæ‰€æœ‰å®¹å™¨"
```

Agent ä¼šï¼š
1. è¯»å– `SKILL.md`
2. ç†è§£ Docker å‘½ä»¤
3. æ‰§è¡Œ `docker ps`

## å¸¦è„šæœ¬çš„æŠ€èƒ½

### åˆ›å»ºè„šæœ¬

```bash
touch ~/.nanobot/skills/docker/inspect.py
chmod +x ~/.nanobot/skills/docker/inspect.py
```

```python
#!/usr/bin/env python3
"""Docker container inspection script."""

import sys
import json
import subprocess

def inspect_container(name: str):
    """Get detailed container information."""
    try:
        result = subprocess.run(
            ["docker", "inspect", name],
            capture_output=True,
            text=True,
            check=True
        )
        
        data = json.loads(result.stdout)[0]
        
        # Extract important info
        info = {
            "name": data["Name"].lstrip("/"),
            "status": data["State"]["Status"],
            "image": data["Config"]["Image"],
            "ports": data["NetworkSettings"]["Ports"],
            "volumes": data["Mounts"]
        }
        
        print(json.dumps(info, indent=2))
    
    except subprocess.CalledProcessError as e:
        print(f"Error: {e.stderr}", file=sys.stderr)
        sys.exit(1)
    
    except (KeyError, json.JSONDecodeError) as e:
        print(f"Error parsing Docker output: {e}", file=sys.stderr)
        sys.exit(1)

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: inspect.py <container_name>", file=sys.stderr)
        sys.exit(1)
    
    inspect_container(sys.argv[1])
```

### åœ¨ SKILL.md ä¸­å¼•ç”¨

```markdown
## Advanced: Container Inspection

For detailed container information:

\```bash
python ~/.nanobot/skills/docker/inspect.py <container_name>
\```

This provides structured information about:
- Container status
- Image
- Port mappings
- Volume mounts
\```

## å¤æ‚æŠ€èƒ½ç¤ºä¾‹

### å¤šæ­¥éª¤æŠ€èƒ½

````markdown
---
name: deploy
description: Deploy application to production
available: true
---

# Deploy Skill

Deploy applications following best practices.

## Deployment Checklist

1. **Pre-deployment**
   \```bash
   # Run tests
   pytest tests/
   
   # Build Docker image
   docker build -t myapp:latest .
   \```

2. **Deploy**
   \```bash
   # Push to registry
   docker push myapp:latest
   
   # Update production
   ssh production "docker pull myapp:latest && docker-compose up -d"
   \```

3. **Post-deployment**
   \```bash
   # Check health
   curl https://myapp.com/health
   
   # Monitor logs
   ssh production "docker logs -f myapp"
   \```

## Example

**User**: "Deploy the application"
**Steps**:
1. Ask for confirmation: "This will deploy to production. Proceed?"
2. Run pre-deployment checks
3. Build and push Docker image
4. SSH to production and deploy
5. Verify deployment
6. Report status
````

### äº¤äº’å¼æŠ€èƒ½

```markdown
---
name: setup
description: Interactive project setup wizard
---

# Setup Skill

Guide users through project initialization.

## Interactive Flow

\```
1. Ask: "What's your project name?"
   â†’ Store in $PROJECT_NAME

2. Ask: "Choose framework: (1) Flask, (2) FastAPI"
   â†’ Store in $FRAMEWORK

3. Create project structure:
   mkdir -p $PROJECT_NAME
   cd $PROJECT_NAME
   
4. Initialize based on framework:
   - Flask: pip install flask && create_flask_app.sh
   - FastAPI: pip install fastapi uvicorn && create_fastapi_app.sh

5. Ask: "Initialize git? (y/n)"
   â†’ If yes: git init && git add . && git commit -m "Initial commit"

6. Report: "Project $PROJECT_NAME created successfully!"
\```
```

## æŠ€èƒ½ç»„åˆ

### åˆ›å»ºæŠ€èƒ½é›†åˆ

```bash
~/.nanobot/skills/
â”œâ”€â”€ devops/
â”‚   â”œâ”€â”€ SKILL.md
â”‚   â”œâ”€â”€ docker.md      # Docker æ“ä½œ
â”‚   â”œâ”€â”€ k8s.md         # Kubernetes æ“ä½œ
â”‚   â””â”€â”€ ci.md          # CI/CD æ“ä½œ
```

ä¸» SKILL.md å¼•ç”¨å…¶ä»–æ–‡ä»¶ï¼š

```markdown
# DevOps Skill

Comprehensive DevOps operations.

## Sub-skills

- [Docker](./nanobot/2026-02-03/docker.md) - Container management
- [Kubernetes](./nanobot/2026-02-03/k8s.md) - Orchestration
- [CI/CD](./nanobot/2026-02-03/ci.md) - Continuous integration and deployment

Choose the appropriate sub-skill based on the task.
```

## æœ€ä½³å®è·µ

### 1. æ¸…æ™°çš„æ–‡æ¡£ç»“æ„

```markdown
# âœ… å¥½çš„ç»“æ„

## Prerequisites
æ˜ç¡®çš„ä¾èµ–è¦æ±‚

## Commands
è¯¦ç»†çš„å‘½ä»¤è¯´æ˜

## Examples
å®é™…ä½¿ç”¨ç¤ºä¾‹

## Troubleshooting
å¸¸è§é—®é¢˜è§£å†³
```

### 2. å…·ä½“çš„ç¤ºä¾‹

```markdown
# âœ… å…·ä½“

**User**: "éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ"
**Action**: 
1. è¿è¡Œ `pytest`
2. æ„å»º Docker é•œåƒ
3. æ¨é€åˆ°ä»“åº“
4. SSH åˆ°ç”Ÿäº§æœåŠ¡å™¨
5. æ‰§è¡Œ `docker-compose up -d`

# âŒ æ¨¡ç³Š

éƒ¨ç½²åº”ç”¨ç¨‹åº
```

### 3. é”™è¯¯å¤„ç†æŒ‡å—

```markdown
## Common Errors

**"Permission denied"**
â†’ Run: `chmod +x script.sh`
â†’ Or: `sudo ...`

**"Connection refused"**
â†’ Check: Is the service running?
â†’ Check: Firewall settings
```

## æŠ€èƒ½ä¾èµ–ç®¡ç†

### æ£€æŸ¥ä¾èµ–

```yaml
metadata: |
  {
    "nanobot": {
      "requires": {
        "bins": ["docker", "kubectl", "helm"],
        "env": ["KUBECONFIG"]
      }
    }
  }
```

Agent ä¼šè‡ªåŠ¨æ£€æŸ¥ï¼š
- CLI å·¥å…·æ˜¯å¦å®‰è£…
- ç¯å¢ƒå˜é‡æ˜¯å¦è®¾ç½®

### æ¡ä»¶å¯ç”¨æ€§

```markdown
## Availability

This skill is available when:
- `aws` CLI is installed
- `AWS_ACCESS_KEY_ID` is set
- `AWS_SECRET_ACCESS_KEY` is set

Check availability:
\```bash
aws --version
env | grep AWS_
\```
```

## åˆ†äº«æŠ€èƒ½

### å‘å¸ƒåˆ° GitHub

```bash
git init
git add SKILL.md *.py
git commit -m "Add custom skill"
git push origin main
```

### ä½¿ç”¨ä»–äººçš„æŠ€èƒ½

```bash
cd ~/.nanobot/skills/
git clone https://github.com/user/awesome-skill.git
```

## å°ç»“

- âœ… åªéœ€å†™ Markdown æ–‡æ¡£
- âœ… å¯é€‰çš„ Python/Bash è„šæœ¬
- âœ… è‡ªåŠ¨ä¾èµ–æ£€æŸ¥
- âœ… æ˜“äºåˆ†äº«å’Œå¤ç”¨

**å‚è€ƒ**ï¼š
- [10-æŠ€èƒ½ç³»ç»Ÿ.md](./nanobot/2026-02-03/10-æŠ€èƒ½ç³»ç»Ÿ.md) - æŠ€èƒ½ç³»ç»Ÿæ¶æ„
- [å¿«é€Ÿå‚è€ƒæ‰‹å†Œ.md](./nanobot/2026-02-03/å¿«é€Ÿå‚è€ƒæ‰‹å†Œ.md) - æŠ€èƒ½å¼€å‘æ¨¡æ¿

---

ğŸ‰ **æ­å–œï¼ä½ å·²ç»å®Œæˆäº† nanobot çš„å…¨éƒ¨å­¦ä¹ æ–‡æ¡£ï¼**

ç°åœ¨ä½ å¯ä»¥ï¼š
- æ·±å…¥ç†è§£ nanobot çš„è®¾è®¡å’Œå®ç°
- å¼€å‘è‡ªå·±çš„å·¥å…·å’ŒæŠ€èƒ½
- åŸºäº nanobot æ„å»º AI åº”ç”¨

**å¼€å§‹å®è·µ**ï¼šå°è¯•åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªè‡ªå®šä¹‰å·¥å…·æˆ–æŠ€èƒ½ï¼
